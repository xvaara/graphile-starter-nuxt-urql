import type { CodegenConfig } from "@graphql-codegen/cli";

const config: CodegenConfig = {
  schema: "./data/schema.graphql",
  documents: "./graphql/**/*.graphql",
  config: {
    avoidOptionals:{
      field: true,
      inputValue: false,
      object: false
    },
    scalars: {
      // UUID: "string",
      // Username: "string",
      // Url: "string",
      // Tag: "string",
      Datetime: "string",
      BigInt: "string",
      JSON: "{ [key: string]: any }",
    },
        immutableTypes: true,
        enumsAsTypes: true,
        // namingConvention: "change-case#pascalCase",
        // noGraphQLTag: false,
        dedupeFragments: true,
        // skipTypename: true,
  },
  generates: {
    "./utils/graphql.ts": {
      plugins: [
        { add: { content: ["/* WARNING: This file is automatically generated. Do not edit. */"] } },
        { add: { content: ["/* eslint-disable @typescript-eslint/no-explicit-any, import/no-duplicates */"] } },
        { add: { content: ["/* tslint:disable */"] } },
        // { add: { content: ["/* eslint:disable */"] } },
        // { add: { content: ["// @ts-nocheck"] } },
        "typescript",
        "typescript-operations",
        // "typescript-resolvers",
        "typescript-urql-graphcache",
        "typescript-vue-urql",
      ],
    },
    "./utils/introspection.ts": {
      plugins: ["urql-introspection"],
    },
  },
  hooks: {
    afterAllFileWrite: ["npx eslint --fix "],
  },
};
export default config;
